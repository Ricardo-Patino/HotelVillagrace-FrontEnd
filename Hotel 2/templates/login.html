<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>Login - Hotel Villa Grace</title>
  <meta name="description" content="Accede a tu cuenta para gestionar tus reservas en Hotel Villa Grace.">
  <meta name="keywords" content="hotel, villa grace, login, reservas, costa rica">
  <link href="{{ url_for('static', filename='assets/img/favicon.png') }}" rel="icon">
  <link href="{{ url_for('static', filename='assets/img/apple-touch-icon.png') }}" rel="apple-touch-icon">
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700;900&family=Poppins:wght@300;400;500;600;700;800;900&family=Playfair+Display:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
  <link href="{{ url_for('static', filename='assets/vendor/bootstrap/css/bootstrap.min.css') }}" rel="stylesheet">
  <link href="{{ url_for('static', filename='assets/vendor/bootstrap-icons/bootstrap-icons.css') }}" rel="stylesheet">
  <link href="{{ url_for('static', filename='assets/vendor/aos/aos.css') }}" rel="stylesheet">
  <link href="{{ url_for('static', filename='assets/vendor/swiper/swiper-bundle.min.css') }}" rel="stylesheet">
  <link href="{{ url_for('static', filename='assets/vendor/glightbox/css/glightbox.min.css') }}" rel="stylesheet">
  <link href="{{ url_for('static', filename='assets/vendor/drift-zoom/drift-basic.css') }}" rel="stylesheet">
  <link href="{{ url_for('static', filename='assets/css/main.css') }}" rel="stylesheet">
</head>

<body class="login-page">
  <!-- Header -->
  <header id="header" class="header d-flex align-items-center fixed-top">
    <div class="container position-relative d-flex align-items-center justify-content-between">
      <a href="index.html" class="logo d-flex align-items-center me-auto me-xl-0">
        <svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" class="me-2" style="width:28px;height:28px"><path d="M21,4H11c-1.1046,0-2,.8954-2,2V28h4v-7c0-.5523,.4477-1,1-1h4c.5523,0,1,.4477,1,1v7h4V6c0-1.1046-.8954-2-2-2Z" style="fill:#f2ebe2;"></path><path d="M30.1416,10.0103l-6.1416-.8774v-3.1329c0-1.6543-1.3457-3-3-3H11c-1.6543,0-3,1.3457-3,3v3.1329l-6.1416,.8774c-.4922,.0703-.8584,.4922-.8584,.9897V28c0,.5522,.4473,1,1,1H30c.5527,0,1-.4478,1-1V11c0-.4976-.3662-.9194-.8584-.9897ZM11,5h10c.5518,0,1,.4487,1,1V27h-2v-6c0-1.103-.8975-2-2-2h-4c-1.1025,0-2,.897-2,2v6h-2V6c0-.5513,.4482-1,1-1Zm7,22h-4v-6h4v6ZM3,11.8672l5-.7144v15.8472H3V11.8672Zm26,15.1328h-5V11.1528l5,.7144v15.1328ZM15,15.5v-1c0-.2762,.2239-.5,.5-.5h1c.2761,0,.5,.2238,.5,.5v1c0,.2761-.2239,.5-.5,.5h-1c-.2761,0-.5-.2239-.5-.5Zm3-7v-1c0-.2762,.2239-.5,.5-.5h1c.2761,0,.5,.2238,.5,.5v1c0,.2761-.2239,.5-.5,.5h-1c-.2761,0-.5-.2239-.5-.5Zm7.5,7v-1c0-.2762,.2239-.5,.5-.5h1c.2761,0,.5,.2238,.5,.5v1c0,.2761-.2239,.5-.5,.5h-1c-.2761,0-.5-.2239-.5-.5Zm0,3v-1c0-.2762,.2239-.5,.5-.5h1c.2761,0,.5,.2238,.5,.5v1c0,.2761-.2239,.5-.5,.5h-1c-.2761,0-.5-.2239-.5-.5ZM6.5,14.5v1c0,.2761-.2239,.5-.5,.5h-1c-.2761,0-.5-.2239-.5-.5v-1c0-.2762,.2239-.5,.5-.5h1c.2761,0,.5,.2238,.5,.5Zm0,3v1c0,.2761-.2239,.5-.5,.5h-1c-.2761,0-.5-.2239-.5-.5v-1c0-.2762,.2239-.5,.5-.5h1c.2761,0,.5,.2238,.5,.5Zm5.5-2v-1c0-.2762,.2239-.5,.5-.5h1c.2761,0,.5,.2238,.5,.5v1c0,.2761-.2239,.5-.5,.5h-1c-.2761,0-.5-.2239-.5-.5Zm0-7v-1c0-.2762,.2239-.5,.5-.5h1c.2761,0,.5,.2238,.5,.5v1c0,.2761-.2239,.5-.5,.5h-1c-.2761,0-.5-.2239-.5-.5Zm3,0v-1c0-.2762,.2239-.5,.5-.5h1c.2761,0,.5,.2238,.5,.5v1c0,.2761-.2239,.5-.5,.5h-1c-.2761,0-.5-.2239-.5-.5Zm3,3.5v-1c0-.2762,.2239-.5,.5-.5h1c.2761,0,.5,.2238,.5,.5v1c0,.2761-.2239,.5-.5,.5h-1c-.2761,0-.5-.2239-.5-.5Zm-6,0v-1c0-.2762,.2239-.5,.5-.5h1c.2761,0,.5,.2238,.5,.5v1c0,.2761-.2239,.5-.5,.5h-1c-.2761,0-.5-.2239-.5-.5Zm3,0v-1c0-.2762,.2239-.5,.5-.5h1c.2761,0,.5,.2238,.5,.5v1c0,.2761-.2239,.5-.5,.5h-1c-.2761,0-.5-.2239-.5-.5Z" style="fill:#917a5a;"></path></svg>
        <h1 class="sitename">Hotel Villa Grace</h1>
      </a>

      <nav id="navmenu" class="navmenu">
        <!-- ... (menú igual) ... -->
      </nav>
      <a class="btn-getstarted d-none d-sm-block" href="booking.html">Reservar Ahora</a>
    </div>
  </header>

  <main class="main">
    <div class="page-title dark-background" data-aos="fade"
      style="background-image: url({{ url_for('static', filename='assets/img/hotel/showcase-7.webp') }});">
      <div class="container position-relative">
        <h1>Iniciar Sesión</h1>
        <p>Accede a tu cuenta para gestionar tus reservas en Hotel Villa Grace.</p>
        <nav class="breadcrumbs">
          <ol>
            <li><a href="index.html">Inicio</a></li>
            <li class="current">Login</li>
          </ol>
        </nav>
      </div>
    </div>

    <section id="login" class="section">
      <div class="container" data-aos="fade-up" data-aos-delay="100">

        <!-- Flash messages -->
        {% with msgs = get_flashed_messages(with_categories=true) %}
          {% if msgs %}
            <div class="row justify-content-center mb-3">
              <div class="col-lg-7">
                {% for cat, msg in msgs %}
                  <div class="alert alert-{{ cat }} alert-dismissible fade show" role="alert">
                    {{ msg }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Cerrar"></button>
                  </div>
                {% endfor %}
              </div>
            </div>
          {% endif %}
        {% endwith %}

        <div class="row gy-4 justify-content-center">
          <div class="col-lg-7">
            <div class="card border-0 shadow-sm rounded-4">
              <div class="row g-0">
                <div class="col-lg-5 d-none d-lg-block">
                  <div class="h-100 w-100 rounded-start-4 overflow-hidden">
                    <img src="{{ url_for('static', filename='assets/img/hotel/gallery-1.webp') }}" alt="Hotel Villa Grace - Lobby"
                      class="img-fluid h-100 w-100 object-fit-cover">
                  </div>
                </div>

                <div class="col-lg-7">
                  <div class="p-4 p-md-5">
                    <h3 class="mb-2">Bienvenido de vuelta</h3>
                    <p class="text-muted mb-4">Ingresa tus credenciales para continuar.</p>

                    <!-- ← CAMBIO: id y SIN la clase php-email-form -->
                    <form id="loginForm" action="{{ url_for('login_post') }}" method="post" novalidate>
                      <div class="row gy-3">
                        <div class="col-12">
                          <label for="email" class="form-label">Correo electrónico</label>
                          <input type="text" class="form-control" id="email" name="email" placeholder="tunombre@ejemplo.com" required>
                          <div class="invalid-feedback">Ingresa un correo o usuario.</div>
                        </div>

                        <div class="col-12">
                          <label for="password" class="form-label">Contraseña</label>
                          <div class="position-relative">
                            <input type="password" class="form-control pe-5" id="password" name="password" placeholder="••••••••" minlength="6" required>
                            <button type="button" class="btn position-absolute top-50 end-0 translate-middle-y me-2 p-0"
                              id="togglePass" aria-label="Mostrar u ocultar contraseña">
                              <i class="bi bi-eye-slash fs-5"></i>
                            </button>
                          </div>
                          <div class="invalid-feedback">La contraseña es obligatoria.</div>
                        </div>

                        <div class="col-12 d-flex justify-content-between align-items-center">
                          <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="remember">
                            <label class="form-check-label" for="remember">Recuérdame</label>
                          </div>
                          <a href="forgot-password.html" class="small link-primary">¿Olvidaste tu contraseña?</a>
                        </div>

                        <div class="col-12">
                          <button type="submit" class="btn btn-primary w-100 py-2">
                            <i class="bi bi-box-arrow-in-right me-2"></i>Iniciar Sesión
                          </button>
                        </div>

                        <div class="col-12 text-center">
                          <span class="text-muted">¿No tienes cuenta?</span>
                          <a href="register.html" class="ms-1">Regístrate aquí</a>
                        </div>
                      </div>
                    </form>

                    <div class="d-flex align-items-center my-4">
                      <hr class="flex-grow-1"><span class="px-2 text-muted small">o</span><hr class="flex-grow-1">
                    </div>

                    <div class="d-flex gap-2">
                      <a href="#" class="btn btn-outline-secondary w-50"><i class="bi bi-google me-2"></i>Google</a>
                      <a href="#" class="btn btn-outline-secondary w-50"><i class="bi bi-apple me-2"></i>Apple</a>
                    </div>

                    <p class="small text-muted mt-4 mb-0">
                      Al continuar aceptas nuestros <a href="terms.html">Términos</a> y <a href="privacy.html">Política de Privacidad</a>.
                    </p>
                  </div>
                </div>

              </div>
            </div>
          </div>
        </div>

      </div>
    </section>
  </main>

  <!-- Footer igual que antes -->
  <footer id="footer" class="footer position-relative dark-background">
    <!-- …contenido igual… -->
  </footer>

  <a href="#" id="scroll-top" class="scroll-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>
  <div id="preloader"></div>

  <script src="{{ url_for('static', filename='assets/vendor/bootstrap/js/bootstrap.bundle.min.js') }}"></script>
  <script src="{{ url_for('static', filename='assets/vendor/php-email-form/validate.js') }}"></script>
  <script src="{{ url_for('static', filename='assets/vendor/aos/aos.js') }}"></script>
  <script src="{{ url_for('static', filename='assets/vendor/purecounter/purecounter_vanilla.js') }}"></script>
  <script src="{{ url_for('static', filename='assets/vendor/swiper/swiper-bundle.min.js') }}"></script>
  <script src="{{ url_for('static', filename='assets/vendor/glightbox/js/glightbox.min.js') }}"></script>
  <script src="{{ url_for('static', filename='assets/vendor/drift-zoom/Drift.min.js') }}"></script>
  <script src="{{ url_for('static', filename='assets/vendor/imagesloaded/imagesloaded.pkgd.min.js') }}"></script>
  <script src="{{ url_for('static', filename='assets/vendor/isotope-layout/isotope.pkgd.min.js') }}"></script>
  <script src="{{ url_for('static', filename='assets/js/main.js') }}"></script>

  <!-- Solo helpers: ojo contraseña -->
  <script>
    const toggle = document.getElementById('togglePass');
    const pass = document.getElementById('password');
    if (toggle && pass) {
      toggle.addEventListener('click', () => {
        const isText = pass.getAttribute('type') === 'text';
        pass.setAttribute('type', isText ? 'password' : 'text');
        toggle.innerHTML = isText ? '<i class="bi bi-eye-slash fs-5"></i>' : '<i class="bi bi-eye fs-5"></i>';
      });
    }
  </script>
</body>
</html>

